Type.registerNamespace("dnn.scripts"),dnn.extend(dnn.scripts,{pns:"dnn",ns:"scripts"}),dnn.scripts.ScriptBatchRequest=function(aSrc,aText,callBack){this.ref=aSrc,this.inline=aText,this.requests=[],this.callBack=callBack,this.numComplete=0,this.numToComplete=0},dnn.scripts.ScriptBatchRequest.prototype={load:function(){for(var ary=[],i=0;i<this.ref.length;i++)""==dnn.dom.scriptStatus(this.ref[i])&&ary.push(this.ref[i]);this.numToComplete=ary.length;for(var i=0;i<ary.length;i++)this.requests.push(dnn.dom.loadScript(ary[i],null,dnn.createDelegate(this,this.asyncLoaded)));0==this.numToComplete&&this.asyncComplete()},asyncLoaded:function(sr){"complete"==sr.status&&(this.numComplete+=1),this.numComplete==this.numToComplete&&this.asyncComplete()},asyncComplete:function(){for(var i=0;i<this.inline.length;i++)dnn.dom.loadScript(null,this.inline[i]);"undefined"!=typeof this.callBack&&this.callBack(this),this.disposeRequests()},disposeRequests:function(){for(var i=0;i<this.requests.length;i++)this.requests[i].dispose()}},dnn.scripts.ScriptBatchRequest.registerClass("dnn.scripts.ScriptBatchRequest");