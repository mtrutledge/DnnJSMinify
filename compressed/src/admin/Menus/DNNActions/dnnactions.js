!function(b,a){b.fn.dnnActionMenu=function(c){var e=b.extend({},b.fn.dnnActionMenu.defaultOptions,c),d=this;return d.each(function(){function h(m,j,l){var k=m.children("."+e.borderClassName);0===k.size()&&(k=b('<div class="'+e.borderClassName+'"></div>').prependTo(m).css({opacity:0})),m.attr("style","z-index:904;"),l&&m.find(e.menuActionSelector).fadeTo(e.fadeSpeed,j),m.children("."+e.borderClassName).fadeTo(e.fadeSpeed,j)}function f(l,j,k){l.removeAttr("style"),l.children("."+e.borderClassName).stop().fadeTo(e.fadeSpeed,0),k&&l.find(e.menuActionSelector).stop().fadeTo(e.fadeSpeed,j)}function g(l){var o=i.find(e.menuSelector).show(),m=o.outerHeight(),s=o.outerWidth(),j=b(a).height(),k=b(a).width(),t=l.offset().top,q=l.offset().left,u=isNaN(parseInt(b(document.body).css("margin-top")))?0:parseInt(b(document.body).css("margin-top")),n={left:!1,right:!1,top:!1,bottom:!1};n.top=t-b(a).scrollTop()-u-m>0,n.bottom=j-(t-b(a).scrollTop()+l.height())-m>0,n.left=q-b(a).scrollLeft()+l.width()-s>0,n.right=k-(q-b(a).scrollLeft())-s>0;var p={},r={};!n.bottom&&n.top?(p.y="bottom",r.y="top"):(p.y="top",r.y="bottom"),!n.right&&n.left?(p.x="right",r.x="right"):(p.x="left",r.x="left"),o.position({my:p.x+" "+p.y,at:r.x+" "+r.y,of:l,collision:"none"})}var i=b(this);i.find(e.menuSelector).size()>0&&(i.hoverIntent({sensitivity:e.hoverSensitivity,timeout:e.hoverTimeout,interval:e.hoverInterval,over:function(){h(b(this).data("intentExpressed",!0),1,!0)},out:function(){f(b(this).data("intentExpressed",!1),e.defaultOpacity,!0)}}),i.hover(function(){h(b(this),e.defaultOpacity,!1)},function(){var j=b(this);j.data("intentExpressed")||f(j,0,!1)}),i.find(e.menuActionSelector).css({opacity:e.defaultOpacity}),i.find(e.menuWrapSelector).hoverIntent({sensitivity:e.hoverSensitivity,timeout:e.hoverTimeout,interval:e.hoverInterval,over:function(){g(b(this));var k=i.find(e.menuSelector);if(!b.support.cssFloat&&0==k.prev("iframe").length){var j=b('<iframe frameborder="0"></iframe>');k.before(j),j.css({position:"absolute",width:k.outerWidth()+"px",height:k.outerHeight()+"px",left:k.position().left+"px",top:k.position().top+"px",opacity:0})}k.fadeTo(e.fadeSpeed,1)},out:function(){b.support.cssFloat||i.find(e.menuSelector).prev("iframe").remove(),i.find(e.menuSelector).stop().fadeTo(e.fadeSpeed,0).hide()}}),i.find(e.menuSelector).children().css({opacity:1}),i.find(e.menuWrapSelector).draggable({containment:i.children().eq(1),start:function(j,k){i.find(e.menuSelector).hide()},stop:function(j,k){g(b(this)),i.find(e.menuSelector).show()}}))}),d},b.fn.dnnActionMenu.defaultOptions={menuWrapSelector:".dnnActionMenu",menuActionSelector:".dnnActionMenuTag",menuSelector:"ul.dnnActionMenuBody",defaultOpacity:.3,fadeSpeed:"fast",borderClassName:"dnnActionMenuBorder",hoverSensitivity:2,hoverTimeout:200,hoverInterval:200},b(document).ready(function(){b(".DnnModule").dnnActionMenu()})}(jQuery,window);