"use strict";define(["jquery","../scripts/config"],function($,cf){return{init:function(util){var config=cf.init(),btnEdit=$(".btn_edit.btn_panel"),btnsPanel=$(".btn_panel");"True"===window.top.dnn.getVar("evoq_DisableAnalytics","-1")&&$(".btn_analytics").hide();var saveBtnEditSettings=function(){util.persistent.save({expandPersonaBar:!1,btnIndex:btnsPanel.index(btnEdit),activePanelId:null})},width=parent.document.body.clientWidth;width<1024&&btnEdit.hide();var toogleUserMode=function(mode){util.sf.moduleRoot="internalservices",util.sf.controller="controlBar",util.sf.post("ToggleUserMode",{UserMode:mode},function(data){window.parent.location.reload()})};config.hasValidLicenseOrTrial&&(btnEdit.on("click",function(){util.closePersonaBar(saveBtnEditSettings())}),"Edit"!=config.userMode?btnEdit.on("click",function(){toogleUserMode("EDIT")}):(btnEdit.addClass("selected"),btnEdit.on("closingPersonaBar",function(){btnEdit.addClass("selected"),saveBtnEditSettings()})))}}});