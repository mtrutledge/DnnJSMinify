"use strict";define(["jquery"],function($){return{selector:"input, textarea, select",errorMessages:{required:"Text is required",minLength:"Text must be at least {0} chars",number:"Only numbers are allowed",nonNegativeNumber:"Negative numbers are not allowed",positiveNumber:"Only positive numbers are allowed",nonDecimalNumber:"Decimal numbers are not allowed",email:"Only valid email is allowed"},validate:function(container,customValidators){var valid=!0,self=this;return $(self.selector,container).each(function(index,input){var $input=$(input),errorSpan=$input.parent().find("span.dnnFormError").hide(),ctrlValid=!0,required=$input.hasClass("required"),minlength=$input.attr("minlength")?$input.attr("minlength"):0,isNumber=$input.hasClass("number"),isNonNegativeNumber=$input.hasClass("nonnegativenumber"),isPositiveNumber=$input.hasClass("positivenumber"),isEmail=$input.hasClass("email"),isCustomValidate=$input.hasClass("customValidate"),appendError=function(errorMsg){errorSpan.length?errorSpan.html(errorMsg).show():($("<span></span>").addClass("dnnFormError").html(errorMsg).insertAfter($input).click(function(){return $(this).hide(),!1}),$input.bind("focus",function(){$input.parent().find("span.dnnFormError").hide()}))},val=$input.val();if(val&&"string"==typeof val&&(val=val.trim()),required&&(val||(appendError(self.errorMessages.required),ctrlValid=!1)),ctrlValid&&minlength){var intMinLength=parseInt(minlength);if(val.length<intMinLength){var minLengthMsg=self.errorMessages.minLength;appendError(minLengthMsg.replace("{0}",intMinLength.toString)),ctrlValid=!1}}if(ctrlValid&&isNumber&&(/^-?\d+$/.test(val)||(ctrlValid=!1),ctrlValid||appendError(/^-?\d+\.?\d+$/.test(val)?self.errorMessages.nonDecimalNumber:self.errorMessages.number)),ctrlValid&&isNonNegativeNumber&&(/^\d+$/.test(val)||(appendError(self.errorMessages.nonNegativeNumber),ctrlValid=!1)),ctrlValid&&isPositiveNumber)if(/^\d+$/.test(val)){var number=parseInt(val);number<=0?(appendError(self.errorMessages.positiveNumber),ctrlValid=!1):ctrlValid=!0}else ctrlValid=!1;if(ctrlValid&&isEmail&&(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(val)||(appendError(self.errorMessages.email),ctrlValid=!1)),ctrlValid&&isCustomValidate&&customValidators)for(var i=0;i<customValidators.length;i++){var customValidator=customValidators[i],validatorName=customValidator.name;$input.hasClass(validatorName)&&(customValidator.validate(val,input)||(appendError(customValidator.errorMsg),ctrlValid=!1))}valid=valid&&ctrlValid}),valid}}});