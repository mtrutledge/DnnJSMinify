"use strict";define(["QUnit","jquery","../scripts/scroller","../scripts/util-mock-for-test"],function(QUnit,$,scroller,util){return{run:function(callback){test("CMX Scroller Tests",function(){$("body").append('<div id="card-holder"></div>');for(var i=0;i<3;i++)$("#card-holder").append('<div class="card"></div>');$("body").append('<div id="card-holder-left"></div>'),$("body").append('<div id="card-holder-right"></div>'),scroller.init($("#card-holder"),$(".card"),$("#card-holder-left"),$("#card-holder-right"),100,400),QUnit.stop(),util.asyncWaterfall([function(cb){equal($("#card-holder-left").css("visibility"),"hidden"),equal($("#card-holder-right").css("visibility"),"hidden"),equal($("#card-holder").css("left"),"100px"),$("#card-holder").remove(),$("#card-holder-left").remove(),$("#card-holder-right").remove(),$("body").append('<div id="card-holder"></div>');for(var i=0;i<7;i++)$("#card-holder").append('<div class="card"></div>');$("body").append('<div id="card-holder-left"></div>'),$("body").append('<div id="card-holder-right"></div>'),scroller.init($("#card-holder"),$(".card"),$("#card-holder-left"),$("#card-holder-right"),100,400),notEqual($("#card-holder-left").css("visibility"),"hidden"),notEqual($("#card-holder-right").css("visibility"),"hidden"),equal($("#card-holder").css("left"),"100px"),$("#card-holder-right").trigger("click"),cb()},function(cb){setTimeout(cb,1e3)},function(cb){equal($("#card-holder").css("left"),"-300px"),cb()}],function(){$("#card-holder").remove(),$("#card-holder-left").remove(),$("#card-holder-right").remove(),QUnit.start(),"function"==typeof callback&&callback()})})}}});