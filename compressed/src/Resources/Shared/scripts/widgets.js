function $renderDNNWidgets(){$widgets.rendered||window.setTimeout(DotNetNuke.UI.WebControls.Widgets.renderWidgets,20)}Type.registerNamespace("DotNetNuke.UI.WebControls.Widgets"),DotNetNuke.UI.WebControls.Widgets.BaseWidget=function(widget){return widget?(this._widget=widget,this._dependencies=[],void(this._readyCounter=0)):null},DotNetNuke.UI.WebControls.Widgets.BaseWidget.prototype={getWidget:function(){return this._widget},getParams:function(){return this._widget.childNodes},setDependency:function(className,scriptPath,isResource){"undefined"==typeof eval(className)&&(isResource?$.getScript($dnn.baseResourcesUrl+scriptPath):$.getScript(scriptPath),this._dependencies.push(className))},onReady:function(handler,errorHandler,attempts,interval){this._handler=handler,errorHandler?this._errorHandler=errorHandler:this._errorHandler="alert('Error loading dependent classes:[ERRORCLASSES]')",attempts&&attempts>0?this._attempts=attempts:this._attempts=100,interval&&interval>10?this._interval=interval:this._interval=10,this._checkIfReady(this)},elementHTML:function(element){if(null==element)return"";for(var _emptyTags={IMG:!0,BR:!0,INPUT:!0,META:!0,LINK:!0,PARAM:!0,HR:!0},attrs=element.attributes,str="<"+element.tagName,i=0;i<attrs.length;i++)str+=" "+attrs[i].name+'="'+attrs[i].value+'"';return _emptyTags[element.tagName]?str+"/>":str+">"+element.innerHTML+"</"+element.tagName+">"},_checkIfReady:function(self){if(self._readyCounter++,self._readyCounter>self._attempts){for(var errorClasses="",d=0;d<self._dependencies.length;d++)""!=self._dependencies[d]&&(errorClasses+=" "+self._dependencies[d]);return void eval(self._errorHandler.replace("[ERRORCLASSES]",errorClasses))}for(var ready=!0,d=0;d<self._dependencies.length;d++)if(""!=self._dependencies[d]){if("undefined"==typeof eval(self._dependencies[d])){ready=!1,window.setTimeout(function(){self._checkIfReady(self)},self._interval);break}self._dependencies[d]=""}ready&&eval(self._handler)},render:function(element){element.id=this._widget.id,this._widget.parentNode.replaceChild(element,this._widget)}},DotNetNuke.UI.WebControls.Widgets.BaseWidget.inheritsFrom(Sys.Component),DotNetNuke.UI.WebControls.Widgets.BaseWidget.registerClass("DotNetNuke.UI.WebControls.Widgets.BaseWidget",Sys.Component);var $widgets=new Object;$widgets.rendered=!1,$widgets.pageWidgets=new Array,$widgets.pageWidgetDetectionAttempts=0,$widgets.pageWidgetRenderAttempts=new Array,DotNetNuke.UI.WebControls.Widgets.renderWidgets=function(){if(!$widgets.rendered){$widgets.rendered=!0;var objects=document.getElementsByTagName("object");if(null==objects||0==objects.length)return void($widgets.pageWidgetDetectionAttempts<1e3&&(window.setTimeout(DotNetNuke.UI.WebControls.Widgets.renderWidgets,5),$widgets.pageWidgetDetectionAttempts++));for(var pageWidgetClasses=new Array,o=0;o<objects.length;o++)try{if("dotnetnuke/client"==objects[o].codeType.toLowerCase()&&""!=objects[o].id){$widgets.pageWidgets.push(objects[o]);var widgetType=objects[o].codeBase;if(widgetType.indexOf("/")>0&&(widgetType=widgetType.substr(widgetType.lastIndexOf("/")+1)),objects[o].codeBase=widgetType.indexOf(".")<0?"DotNetNuke.UI.WebControls.Widgets."+widgetType:widgetType,"undefined"==typeof pageWidgetClasses[widgetType])if(pageWidgetClasses[widgetType]=widgetType,widgetType.indexOf(".")>-1){var widgetFolder=widgetType.substr(0,widgetType.indexOf("."));$.getScript($dnn.baseResourcesUrl+"Widgets/User/"+widgetFolder+"/"+widgetType+".js")}else $.getScript($dnn.baseResourcesUrl+"Widgets/DNN/"+widgetType+".js")}}catch(e){}delete pageWidgetClasses}},DotNetNuke.UI.WebControls.Widgets.renderWidgetType=function(widgetType){try{if("function"==typeof eval(widgetType))for(var w=0;w<$widgets.pageWidgets.length;w++)try{var currentWidgetInstance=$widgets.pageWidgets[w].codeBase;if(currentWidgetInstance.indexOf("/")>0&&(currentWidgetInstance=currentWidgetInstance.substr(currentWidgetInstance.lastIndexOf("/")+1)),currentWidgetInstance!=widgetType)continue;var widget=eval("new "+widgetType+"($widgets.pageWidgets[w])");widget.render()}catch(r){}}catch(e){}},$addHandler(window,"load",DotNetNuke.UI.WebControls.Widgets.renderWidgets),$renderDNNWidgets();