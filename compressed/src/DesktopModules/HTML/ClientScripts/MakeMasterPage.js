window.dnn=window.dnn||{},window.dnn.HTMLPro=window.dnn.HTMLPro||{},function(){var MakeMasterPageClass;MakeMasterPageClass=function(){"use strict";function MakeMasterPage(options,$makeMasterLink){var moduleId;if(moduleId=parseInt(options.moduleId,10),isNaN(moduleId))throw"moduleId not present";$makeMasterLink.click(function(e){e.preventDefault(),makeMaster(moduleId)})}var makeMaster;return MakeMasterPage.class="MakeMasterPage",MakeMasterPage.type="Class",makeMaster=function(moduleId){var sf=$.ServicesFramework(moduleId);$.ajax({type:"POST",url:sf.getServiceRoot("HtmlPro")+"HtmlTextPro/MakeMaster",beforeSend:sf.setModuleHeaders,success:function(data){location.reload()},error:function(xhr,status,error){var response,message;response=$.parseJSON(xhr.responseText),message=response.ExceptionMessage||response.Message,$.dnnAlert({text:message?message.replace(/^"(.+(?="$))"$/,"$1"):""})}})},MakeMasterPage}(),window.dnn.HTMLPro.MakeMasterPage=MakeMasterPageClass}.call(this);