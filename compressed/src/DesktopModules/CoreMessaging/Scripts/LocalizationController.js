!function($){window.LocalizationController=function(settings,root){var that=this;this.showMissingKeys=settings.showMissingKeys||!1,this.servicesFramework=$.ServicesFramework(settings.moduleId),this.stringTable={},this.loadTable=function(){var worked=!1,success=function(m){$.each(m.Table,function(index,entry){0==that.stringTable.hasOwnProperty(index)&&(that.stringTable[index]=entry)}),worked=!0},failure=function(m){console.log("Unable to load string translations: "+(m.ErrorMessage||"Unknown error"))},params={culture:settings.culture};return $.ajax({type:"get",url:root.servicesFramework.getServiceRoot("CoreMessaging")+"Subscriptions/GetLocalizationTable",beforeSend:root.servicesFramework.setModuleHeaders,data:params,cache:!1,async:!1}).done(success).fail(failure),worked},this.getString=function(key){var value=that.stringTable[key];return 0==(value||"").length?that.showMissingKeys?"[L]{0}".replace("{0}",key):key:value},this.loadTable()}}(window.jQuery);