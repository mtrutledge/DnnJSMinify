"undefined"!=typeof window.dnn&&null!==window.dnn||(window.dnn={}),dnn.DocumentViewerFilterViewSettingsController=function(serviceSettings,serviceControls){var settings=serviceSettings,controls=serviceControls,_serviceUrl=$.dnnSF().getServiceRoot(settings.serviceRoot),getHttpGETHeaders=function(){var $dnnSF=$.dnnSF().ServicesFramework(controls.moduleId);return"ModuleId="+$dnnSF.getModuleId()+"&TabId="+$dnnSF.getTabId()},initFilterOptionsRadioInput=function(){$("input[id^="+controls.FilterOptionGroupID+"]:radio").change(function(){checkFilterOption($(this).val())}),checkFilterOption($("input[id^="+controls.FilterOptionGroupID+"][checked=checked]:radio").val())},checkFilterOption=function(checkValue){"FilterByFolder"==checkValue?($("#FilterByFolderOptions").show(),$("#FilterByTagsOptions").hide()):"FilterByTags"==checkValue?($("#FilterByFolderOptions").hide(),$("#FilterByTagsOptions").show()):($("#FilterByFolderOptions").hide(),$("#FilterByTagsOptions").hide())},ValidateFolderIsSelected=function(sender,args){return"FilterByFolder"==$("input[id^="+controls.FilterOptionGroupID+"][checked=checked]:radio").val()&&null==dnn[controls.FolderDropDownList[0].id].selectedItem()?void(args.IsValid=!1):void(args.IsValid=!0)},ValidateTagsAreAdded=function(sender,args){return"FilterByTags"!=$("input[id^="+controls.FilterOptionGroupID+"][checked=checked]:radio").val()||controls.TagInput.val()?void(args.IsValid=!0):void(args.IsValid=!1)},initTagsInput=function(tagsInputSettings){controls.TagInput.dnnTagsInput({width:tagsInputSettings.width,minInputWidth:tagsInputSettings.minInputWidth,defaultText:tagsInputSettings.defaultText,autocomplete_url:_serviceUrl+"ContentService/GetFilteredTags?"+getHttpGETHeaders()+"&maxItemsToShow="+tagsInputSettings.maxItemsToShow,maxItemsToShow:tagsInputSettings.maxItemsToShow})};return{initTagsInput:initTagsInput,initFilterOptionsRadioInput:initFilterOptionsRadioInput,ValidateFolderIsSelected:ValidateFolderIsSelected,ValidateTagsAreAdded:ValidateTagsAreAdded}};