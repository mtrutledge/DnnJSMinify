window.dnn=dnn||{},window.dnn.modules=dnn.modules||{},window.dnn.modules.publisher=dnn.modules.publisher||{},window.dnn.modules.publisher.FeaturedCardManager=function($){"use strict";function init(config){$scopeWrapper=$(config.scopeWrapperId),$scopeWrapper.find("h2, .publishdesc, .publishcard div.story").dotdotdot(),$(".publishcard.mobile-card.small-card",$scopeWrapper).on("touchstart",onCardTouchStart),$(".publishcard.mobile-card.small-card",$scopeWrapper).on("click",onCardClick),$scopeWrapper.toggle(!config.isFiltered),$("body").on("publisher.filteredChanged",function(e,data){$scopeWrapper.toggle(!data.isFiltered)})}var $scopeWrapper,onCardTouchStart,onCardClick,getDetailUrl;return onCardTouchStart=function(e){var $card=$(e.currentTarget);$card.hasClass("active")||($(".publishcard.small-card.active").removeClass("active"),$card.addClass("active"),e.preventDefault())},onCardClick=function(e){var $card=$(e.currentTarget);window.location.href=getDetailUrl($card)},getDetailUrl=function($card){return $card.attr("data-details-url")},{init:init}}(jQuery||$);