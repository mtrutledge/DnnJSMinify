!function(){var a=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(b,c){function e(g){var f=[];return a(g.split(/,/),function(h){f.push({title:"advlist."+("default"==h?"def":h.replace(/-/g,"_")),styles:{listStyleType:"default"==h?"":h}})}),f}var d=this;d.editor=b,d.numlist=b.getParam("advlist_number_styles")||e("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"),d.bullist=b.getParam("advlist_bullet_styles")||e("default,circle,disc,square"),tinymce.isIE&&/MSIE [2-7]/.test(navigator.userAgent)&&(d.isIE7=!0)},createControl:function(d,b){function c(j,l){var k=!0;return a(l.styles,function(n,m){if(g.dom.getStyle(j,m)!=n)return k=!1,!1}),k}function h(){var k,l=g.dom,j=g.selection;k=l.getParent(j.getNode(),"ol,ul"),k&&k.nodeName!=("bullist"==d?"OL":"UL")&&!c(k,i)||g.execCommand("bullist"==d?"InsertUnorderedList":"InsertOrderedList"),i&&(k=l.getParent(j.getNode(),"ol,ul"),k&&(l.setStyles(k,i.styles),k.removeAttribute("data-mce-style"))),g.focus()}var e,i,f=this,g=f.editor;if("numlist"==d||"bullist"==d)return"advlist.def"==f[d][0].title&&(i=f[d][0]),e=b.createSplitButton(d,{title:"advanced."+d+"_desc",class:"mce_"+d,onclick:function(){h()}}),e.onRenderMenu.add(function(j,k){k.onHideMenu.add(function(){f.bookmark&&(g.selection.moveToBookmark(f.bookmark),f.bookmark=0)}),k.onShowMenu.add(function(){var l,n=g.dom,m=n.getParent(g.selection.getNode(),"ol,ul");(m||i)&&(l=f[d],a(k.items,function(o){var p=!0;o.setSelected(0),m&&!o.isDisabled()&&(a(l,function(q){if(q.id==o.id&&!c(m,q))return p=!1,!1}),p&&o.setSelected(1))}),m||k.items[i.id].setSelected(1)),g.focus(),tinymce.isIE&&(f.bookmark=g.selection.getBookmark(1))}),k.add({id:g.dom.uniqueId(),title:"advlist.types",class:"mceMenuItemTitle",titleItem:!0}).setDisabled(1),a(f[d],function(l){f.isIE7&&"lower-greek"==l.styles.listStyleType||(l.id=g.dom.uniqueId(),k.add({id:l.id,title:l.title,onclick:function(){i=l,h()}}))})}),e},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)}();