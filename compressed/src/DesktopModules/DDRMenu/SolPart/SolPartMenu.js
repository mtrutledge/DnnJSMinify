DDR.Menu.Providers.SolPart||DDRjQuery(function($){DDR.Menu.Providers.SolPart=function(jqContainer,dnnNavParams){var me=this;me.baseConstructor(jqContainer,dnnNavParams),me.spacer=navigator.userAgent.toLowerCase().indexOf("msie")==-1?"<img src='"+dnnNavParams.PathSystemImage+"spacer.gif' />":"&nbsp;",dnnNavParams.CSSControl=dnnNavParams.CSSControl||"MainMenu_MenuBar",dnnNavParams.CSSContainerRoot=dnnNavParams.CSSContainerRoot||"MainMenu_MenuContainer",dnnNavParams.CSSContainerSub=dnnNavParams.CSSContainerSub||"MainMenu_SubMenu",dnnNavParams.CSSBreak=dnnNavParams.CSSBreak||"MainMenu_MenuBreak",dnnNavParams.CSSIndicateChildSub=dnnNavParams.CSSIndicateChildSub||"MainMenu_MenuArrow",dnnNavParams.CSSIndicateChildRoot=dnnNavParams.CSSIndicateChildRoot||"MainMenu_RootMenuArrow",dnnNavParams.CSSNode=dnnNavParams.CSSNode||"MainMenu_MenuItem",dnnNavParams.CSSNodeHover=dnnNavParams.CSSNodeHover||"MainMenu_MenuItemSel",dnnNavParams.CSSIcon=dnnNavParams.CSSIcon||"MainMenu_MenuIcon",dnnNavParams.ControlAlignment=dnnNavParams.ControlAlignment.toLowerCase()},DDR.Menu.Providers.SolPart.prototype=new DDR.Menu.Providers.BaseRenderer,DDR.Menu.Providers.SolPart.prototype.createRootMenu=function(){var me=this,dnnNavContainer=$("<span />");me.jqContainer.append(dnnNavContainer),me.menus.each(function(m){dnnNavContainer.append(me.createRenderedMenu(m))}),me.items.each(function(i){i.rendered.html(i.rendered.html().replace(/#NodeLeftHTMLRoot#/g,me.dnnNavParams.NodeLeftHTMLRoot||"").replace(/#NodeRightHTMLRoot#/g,me.dnnNavParams.NodeRightHTMLRoot||"").replace(/#NodeLeftHTMLSub#/g,me.dnnNavParams.NodeLeftHTMLSub||"").replace(/#NodeRightHTMLSub#/g,me.dnnNavParams.NodeRightHTMLSub||"").replace(/#NodeLeftHTMLBreadCrumbRoot#/g,me.dnnNavParams.NodeLeftHTMLBreadCrumbRoot||"").replace(/#NodeRightHTMLBreadCrumbRoot#/g,me.dnnNavParams.NodeRightHTMLBreadCrumbRoot||"").replace(/#NodeLeftHTMLBreadCrumbSub#/g,me.dnnNavParams.NodeLeftHTMLBreadCrumbSub||"").replace(/#NodeRightHTMLBreadCrumbSub#/g,me.dnnNavParams.NodeRightHTMLBreadCrumbSub||"").replace(/#NodeRightHTMLRoot#/g,me.dnnNavParams.SeparatorRightHTML||""))}),dnnNavContainer.find("td:contains('#Separator')").each(function(){var jqThis=$(this);jqThis.html(jqThis.html().replace(/#SeparatorHTML#/g,me.dnnNavParams.SeparatorHTML||"").replace(/#SeparatorLeftHTML#/g,me.dnnNavParams.SeparatorLeftHTML||"").replace(/#SeparatorRightHTML#/g,me.dnnNavParams.SeparatorRightHTML||""))}),dnnNavContainer.find("td").attr("unselectable","on"),me.jqContainer.replaceWith(dnnNavContainer),me.jqContainer.show(1),me.jqContainer.queue(function(){me.addCovering(),me.prepareHideAndShow(),$(this).dequeue()})},DDR.Menu.Providers.SolPart.prototype.createRenderedMenu=function(menu){var me=this,level=menu.level,childItems=menu.childItems;if(0==level){menu.flyout=!1,menu.layout=me.orientHorizontal?"horizontal":"vertical";var result=$("<table style='vertical-align: middle' border='0' cellspacing='0' cellpadding='0' />").addClass(me.dnnNavParams.CSSContainerRoot);me.orientHorizontal?(result.attr("width","100%"),result.append(me.menuBar=$("<tr />"))):(result.attr("height","100%"),me.menuBar=result),me.orientHorizontal&&"right"==me.dnnNavParams.ControlAlignment&&me.menuBar.append("<td width='100%'>"+me.spacer+"</td>"),me.separator=$("<td><table border='0' cellspacing='0' cellpadding='0'><tr /></table></td>").addClass(me.dnnNavParams.CSSBreak),me.firstItem=!0,childItems.each(function(i){me.createRenderedItem(i)}),me.separator.find("tr").children("td").length>0&&me.menuBar.append(me.orientHorizontal?me.separator.clone():$("<tr />").append(me.separator.clone())),me.orientHorizontal?"left"==me.dnnNavParams.ControlAlignment&&me.menuBar.append("<td width='100%'>"+me.spacer+"</td>"):me.menuBar.append("<tr><td height='100%'>"+me.spacer+"</td></tr>")}else{menu.flyout=!0,menu.layout="vertical";var parentItem=menu.parentItem,table=(parentItem.parentMenu,$("<table cellspacing='0' cellpadding='0' border='0' />")),result=$("<div />").css({position:"absolute",left:"-1000px"}).append(table).addClass(me.dnnNavParams.CSSContainerSub);childItems.each(function(i){table.append(me.createRenderedItem(i))})}return menu.rendered=result,result},DDR.Menu.Providers.SolPart.prototype.createRenderedItem=function(item){var result,me=this,level=item.level,title=item.title,image=item.image,href=item.href;if(0==level){me.dnnNavParams.SeparatorHTML&&!me.firstItem&&me.separator.find("tr").append($("<td />").addClass(me.dnnNavParams.CSSSeparator).text("#SeparatorHTML#")),me.dnnNavParams.SeparatorLeftHTML&&me.separator.find("tr").append($("<td />").addClass(me.dnnNavParams.CSSLeftSeparator).text("#SeparatorLeftHTML#")),me.separator.find("tr").children("td").length>0&&(me.menuBar.append(me.orientHorizontal?me.separator.clone():$("<tr />").append(me.separator.clone())),me.separator.find("tr").empty()),result=$("<td><table border='0' cellspacing='0' cellpadding='0' width='100%'><tr><td nowrap='nowrap' /></tr></table></td>");var tr=result.find("tr"),td=tr.children("td");me.orientHorizontal||td.attr("align",me.dnnNavParams.ControlAlignment),tr.addClass(me.dnnNavParams.CSSControl).addClass(me.dnnNavParams.CSSNode),tr.addClass(me.dnnNavParams.CSSNodeRoot),item.isBreadcrumb&&tr.addClass(me.dnnNavParams.CSSBreadCrumbRoot),item.isSelected&&tr.addClass(me.dnnNavParams.CSSNodeSelectedRoot),href&&(item.coveringHere=function(){return item.rendered.find("table").closest("td")}),td.text(title);var leftHtml=item.isBreadcrumb&&me.dnnNavParams.NodeLeftHTMLBreadCrumbRoot?me.dnnNavParams.NodeLeftHTMLBreadCrumbRoot?"#NodeLeftHTMLBreadCrumbRoot#":"&nbsp;":me.dnnNavParams.NodeLeftHTMLRoot?"#NodeLeftHTMLRoot#":"&nbsp;";td.prepend(leftHtml);var rightHtml=item.isBreadcrumb&&me.dnnNavParams.NodeRightHTMLBreadCrumbRoot?me.dnnNavParams.NodeRightHTMLBreadCrumbRoot?"#NodeRightHTMLBreadCrumbRoot#":"":me.dnnNavParams.NodeRightHTMLRoot?"#NodeRightHTMLRoot#":"";if(td.append(rightHtml),td.prepend(image?$("<img />").attr("src",image):me.spacer),item.childMenu&&me.dnnNavParams.IndicateChildImageRoot){var tdArrow=$("<td align='right' />");tdArrow.append($("<img />").attr("src",me.dnnNavParams.PathSystemImage+me.dnnNavParams.IndicateChildImageRoot)).addClass(me.dnnNavParams.CSSIndicateChildRoot),tr.append(tdArrow)}else td.append("&nbsp;");me.orientHorizontal||(result=$("<tr />").append(result)),me.menuBar.append(result),me.dnnNavParams.SeparatorRightHTML&&me.separator.find("tr").append($("<td />").addClass(me.dnnNavParams.CSSRightSeparator).text("#SeparatorRightHTML#")),me.firstItem=!1}else{result=$("<tr><td /><td /><td width='15px' /></tr>");var tdImg=result.find("td:eq(0)"),tdText=result.find("td:eq(1)"),tdArrow=result.find("td:eq(2)");href&&(item.coveringHere=function(){return item.rendered.find("td")}),image?tdImg.append($("<img />").attr("src",image)):tdImg.append(me.spacer),tdText.text(title),tdText.attr("nowrap","nowrap");var leftHtml=item.isBreadcrumb&&me.dnnNavParams.NodeLeftHTMLBreadCrumbSub?me.dnnNavParams.NodeLeftHTMLBreadCrumbSub?"#NodeLeftHTMLBreadCrumbSub#":"":me.dnnNavParams.NodeLeftHTMLSub?"#NodeLeftHTMLSub#":"";tdText.prepend(leftHtml);var rightHtml=item.isBreadcrumb&&me.dnnNavParams.NodeRightHTMLBreadCrumbSub?me.dnnNavParams.NodeRightHTMLBreadCrumbSub?"#NodeRightHTMLBreadCrumbSub#":"":me.dnnNavParams.NodeRightHTMLSub?"#NodeRightHTMLSub#":"";tdText.append(rightHtml),tdImg.addClass(me.dnnNavParams.CSSIcon),tdText.addClass(me.dnnNavParams.CSSNode),tdArrow.addClass(me.dnnNavParams.CSSIndicateChildSub).append(item.childMenu?$("<img />").attr("src",me.dnnNavParams.PathSystemImage+me.dnnNavParams.IndicateChildImageSub):me.spacer),result.addClass(me.dnnNavParams.CSSNode),item.isBreadcrumb&&(tdText.addClass(me.dnnNavParams.CSSBreadCrumbSub),result.addClass(me.dnnNavParams.CSSBreadCrumbSub)),item.isSelected&&(tdText.addClass(me.dnnNavParams.CSSNodeSelectedSub),result.addClass(me.dnnNavParams.CSSNodeSelectedSub))}return item.rendered=result,result},DDR.Menu.Providers.SolPart.prototype.menuItemHover=function(item){var me=this;0==item.level?item.rendered.setHoverClass((me.dnnNavParams.CSSNodeHover||"")+" "+(me.dnnNavParams.CSSNodeHoverRoot||""),item.rendered.find("tr"),me.dnnNavParams.CSSNode):item.rendered.setHoverClass((me.dnnNavParams.CSSNodeHover||"")+" "+(me.dnnNavParams.CSSNodeHoverSub||""),item.rendered.find("td"),me.dnnNavParams.CSSNode)}});