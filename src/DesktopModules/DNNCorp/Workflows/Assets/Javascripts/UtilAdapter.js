
window.dnn=window.dnn||{};window.dnn.utils=window.dnn.utils||{};(function(){var UtilAdapter;UtilAdapter=(function(){'use strict';var _dnnSF,_serviceSettings,_sf,_getServiceUrl,_getServiceRoot;var get,post,ajaxCall;UtilAdapter.prototype.sf=null;UtilAdapter.prototype.resx=null;UtilAdapter.class='UtilAdapter';UtilAdapter.type='Class';function UtilAdapter(moduleId){_dnnSF=$.dnnSF().ServicesFramework(moduleId);_serviceSettings={beforeSend:_dnnSF.setModuleHeaders,dataType:'json',contentType:'application/json'};this.sf={moduleRoot:null,controller:null,url:null,get:get,post:post,getServiceRoot:_getServiceRoot};this.resx={};_sf=this.sf;}
_getServiceUrl=function getServiceUrlHandler(action){return _getServiceRoot()+_sf.controller+'/'+action;}
_getServiceRoot=function getServiceRootHandler(){return _dnnSF.getServiceRoot(_sf.moduleRoot);}
get=function(action,data,get200Callback,getErrorCallback){_serviceSettings.url=_getServiceUrl(action);_serviceSettings.method='get';ajaxCall(data,get200Callback,getErrorCallback);};post=function(action,data,post200Callback,postErrorCallback){_serviceSettings.url=_getServiceUrl(action);_serviceSettings.method=_serviceSettings.type='post';ajaxCall(JSON.stringify(data),post200Callback,postErrorCallback);};ajaxCall=function(data,response200Callback,responseErrorCallback){_serviceSettings.data=data;$.ajax(_serviceSettings).done(response200Callback).fail(responseErrorCallback);};UtilAdapter.prototype.setAdaptedResx=function(value){this.resx.ContentPB=value;};UtilAdapter.prototype.get=get;UtilAdapter.prototype.post=post;return UtilAdapter;})();window.dnn.utils.UtilAdapter=UtilAdapter;}).call(this);