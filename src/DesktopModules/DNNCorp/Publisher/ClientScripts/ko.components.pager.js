
ko.components.register('pager',{viewModel:function(params){var self=this;self.currentPage=ko.observable(1);self.loading=ko.observable(false);self.prevPage=function(){if(self.isFirstPage()||self.loading())return;self.loading(true);self.currentPage(self.currentPage()-1);params.getPage(self.currentPage(),function(){self.loading(false);});};self.nextPage=function(){if(self.isLastPage()||self.loading())return;self.loading(true);var page=self.currentPage()+1;if(params.lastPage()){page=Math.min(page,params.lastPage());}
self.currentPage(page);params.getPage(self.currentPage(),function(){self.loading(false);});};self.isFirstPage=ko.computed(function(){return self.currentPage()<=1;});self.isLastPage=ko.computed(function(){return params.lastPage()!=="undefined"&&self.currentPage()>=params.lastPage();});},template:'<div class="pager" data-bind="visible: !(isFirstPage() && isLastPage())">'+'    <a class="next" data-bind="click: nextPage, css: { disabled: isLastPage }"></a>'+'    <a class="prev" data-bind="click: prevPage, css: { disabled: isFirstPage }"></a>'+'</div>'});