
window.dnn=dnn||{};window.dnn.utils=dnn.utils||{};window.dnn.utils.PendingSavesManager=(function($){"use strict";var pendingSaves,noPendingSavesCallbacks;var addPendingSave,completePendingSave,hasPendingSaves,addListenerWhenNoPendingSaves,notifyWhenNoPendingSaves;pendingSaves={};noPendingSavesCallbacks=[];addPendingSave=function addPendingSaveHandler(id){pendingSaves[id]=true;};notifyWhenNoPendingSaves=function notifyWhenNoPendingSavesHandler(){var callback;while(noPendingSavesCallbacks.length>0){callback=noPendingSavesCallbacks.pop();callback();}};completePendingSave=function completePendingSaveHandler(id){delete pendingSaves[id];if(!hasPendingSaves()){notifyWhenNoPendingSaves();}};hasPendingSaves=function hasPendingSavesHandler(){return Object.keys(pendingSaves).length>0;};addListenerWhenNoPendingSaves=function addListenerWhenNoPendingSavesHandler(noPendingSavesCallback){noPendingSavesCallbacks.push(noPendingSavesCallback);};return{addPendingSave:addPendingSave,completePendingSave:completePendingSave,hasPendingSaves:hasPendingSaves,addListenerWhenNoPendingSaves:addListenerWhenNoPendingSaves,};}(jQuery||$));